<h2 mat-dialog-title>
  @if (!data.inventory.id) { Nuevo inventario }
  @else { Editar inventario: {{data.inventory.name}} }
</h2>

<form [formGroup]="myForm" (ngSubmit)="registerInventory()" autocomplete="off" >
  <mat-dialog-content class="inputs-container-inventory">
    <div>
      <input
        type="text"
        placeholder="Nombre"
        autofocus
        formControlName="name"
        style="width: 100%"
      />
      @if (errorsInTheField('name')) {
        <p class="invalid-status-msg">{{getErrorMessage('name')}}</p>
      }
    </div>
    <div>
      <select name="categories" formControlName="category" style="width: 108%">
        <option value="" selected>Selecciona una categor√≠a</option>
        @for (category of categories; track $index) {
          @if(category.id !== 'Category'){
            <option 
              [value]="category.id"
            >{{ category.name }}</option>
          }
        }
      </select>
    </div>
    <div>
      <div>
        <input
          type="number"
          placeholder="Precio"
          formControlName="price"
          style="width: 100%"
        />
        @if (errorsInTheField('price')) {
          <p class="invalid-status-msg">{{getErrorMessage('price')}}</p>
        }
      </div>
      <div>
        <input
          type="number"
          placeholder="Cantidad"
          formControlName="stock"
          style="width: 100%"
        />
        @if (errorsInTheField('stock')) {
          <p class="invalid-status-msg">{{getErrorMessage('stock')}}</p>
        }
      </div>
    </div>
    <div>
      <input
        type="text"
        placeholder="Unidad"
        formControlName="unit"
        style="width: 100%"
      />
      @if (errorsInTheField('unit')) {
        <p class="invalid-status-msg">{{getErrorMessage('unit')}}</p>
      }
    </div>
  </mat-dialog-content>

  <mat-dialog-actions style="display: flex; justify-content: space-between; margin: 0 1rem 1rem 1rem;">
    <button mat-button [mat-dialog-close]="true" color="warn">Cancelar</button>
    <button type="submit" mat-button color="accent" [disabled]="myForm.invalid">Aceptar</button>
  </mat-dialog-actions>
</form>